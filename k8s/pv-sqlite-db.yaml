apiVersion: v1
kind: PersistentVolume
metadata:
  name: board-db-pv # PVC가 바인딩할 PV의 이름
  labels:
    type: local-storage # PV의 용도를 나타내는 레이블
spec:
  # Deployment YAML의 PVC가 요청한 용량(1Gi)과 일치해야 합니다.
  capacity:
    storage: 1Gi
  # SQLite DB는 한 번에 한 Pod만 접근해야 하므로 ReadWriteOnce를 설정합니다.
  # 이는 단일 노드에서 안전하게 사용됩니다..
  accessModes:
    - ReadWriteOnce
  # StorageClass를 사용하지 않고 정적 바인딩을 위해 빈 문자열("")로 설정합니다.
  storageClassName: ""
  # 회수 정책을 Retain으로 설정하여, PVC가 삭제되어도 데이터는 보존되도록 합니다.
  persistentVolumeReclaimPolicy: Retain
  # HostPath 볼륨 타입을 정의합니다. (단일 노드 환경용)
  hostPath:
    # 워커 노드의 파일 시스템 경로입니다. 이 경로는 노드에 반드시 생성되어야 합니다.
    path: "/mnt/data/simple-board-db"
    # 디렉터리가 없으면 생성하도록 설정합니다.
    type: DirectoryOrCreate
  # 워커 노드가 1개이므로, Node Affinity 설정은 제거하여 단순화했습니다.